<UserControl x:Class="MesTechStok.Desktop.Components.LiveBackgroundView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <UserControl.Resources>
        <!-- Animated Gradient Background -->
        <Storyboard x:Key="BackgroundAnimation" RepeatBehavior="Forever">
            <ColorAnimation Storyboard.TargetName="GradientStop1" 
                          Storyboard.TargetProperty="Color"
                          From="#FF1e3c72" To="#FF2a5298" Duration="0:0:4" AutoReverse="True"/>
            <ColorAnimation Storyboard.TargetName="GradientStop2" 
                          Storyboard.TargetProperty="Color"
                          From="#FF2a5298" To="#FF1e3c72" Duration="0:0:6" AutoReverse="True"/>
            <ColorAnimation Storyboard.TargetName="GradientStop3" 
                          Storyboard.TargetProperty="Color"
                          From="#FF0f2027" To="#FF203a43" Duration="0:0:5" AutoReverse="True"/>
        </Storyboard>
        
        <!-- Floating Particles Animation -->
        <Storyboard x:Key="ParticlesAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="Particle1" 
                           Storyboard.TargetProperty="(Canvas.Top)"
                           From="800" To="-50" Duration="0:0:20"/>
            <DoubleAnimation Storyboard.TargetName="Particle2" 
                           Storyboard.TargetProperty="(Canvas.Top)"
                           From="800" To="-50" Duration="0:0:25"/>
            <DoubleAnimation Storyboard.TargetName="Particle3" 
                           Storyboard.TargetProperty="(Canvas.Top)"
                           From="800" To="-50" Duration="0:0:18"/>
            <DoubleAnimation Storyboard.TargetName="Particle4" 
                           Storyboard.TargetProperty="(Canvas.Top)"
                           From="800" To="-50" Duration="0:0:22"/>
            <DoubleAnimation Storyboard.TargetName="Particle5" 
                           Storyboard.TargetProperty="(Canvas.Top)"
                           From="800" To="-50" Duration="0:0:28"/>
        </Storyboard>
    </UserControl.Resources>
    
    <Grid>
        <!-- Main Animated Background -->
        <Rectangle>
            <Rectangle.Fill>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop x:Name="GradientStop1" Color="#FF1e3c72" Offset="0"/>
                    <GradientStop x:Name="GradientStop2" Color="#FF2a5298" Offset="0.5"/>
                    <GradientStop x:Name="GradientStop3" Color="#FF0f2027" Offset="1"/>
                </LinearGradientBrush>
            </Rectangle.Fill>
        </Rectangle>
        
        <!-- Floating Particles Layer -->
        <Canvas ClipToBounds="True">
            <!-- Particle 1 -->
            <Ellipse x:Name="Particle1" 
                     Width="8" Height="8" 
                     Canvas.Left="100" Canvas.Top="800"
                     Fill="#40FFFFFF" 
                     Opacity="0.6"/>
            
            <!-- Particle 2 -->
            <Ellipse x:Name="Particle2" 
                     Width="12" Height="12" 
                     Canvas.Left="300" Canvas.Top="800"
                     Fill="#30FFFFFF" 
                     Opacity="0.4"/>
            
            <!-- Particle 3 -->
            <Ellipse x:Name="Particle3" 
                     Width="6" Height="6" 
                     Canvas.Left="500" Canvas.Top="800"
                     Fill="#50FFFFFF" 
                     Opacity="0.8"/>
            
            <!-- Particle 4 -->
            <Ellipse x:Name="Particle4" 
                     Width="10" Height="10" 
                     Canvas.Left="700" Canvas.Top="800"
                     Fill="#35FFFFFF" 
                     Opacity="0.5"/>
            
            <!-- Particle 5 -->
            <Ellipse x:Name="Particle5" 
                     Width="14" Height="14" 
                     Canvas.Left="900" Canvas.Top="800"
                     Fill="#25FFFFFF" 
                     Opacity="0.3"/>
        </Canvas>
        
        <!-- Grid Pattern Overlay -->
        <Rectangle Opacity="0.05">
            <Rectangle.Fill>
                <DrawingBrush TileMode="Tile" Viewport="0,0,50,50" ViewportUnits="Absolute">
                    <DrawingBrush.Drawing>
                        <GeometryDrawing>
                            <GeometryDrawing.Geometry>
                                <RectangleGeometry Rect="0,0,50,50"/>
                            </GeometryDrawing.Geometry>
                            <GeometryDrawing.Pen>
                                <Pen Brush="White" Thickness="0.5"/>
                            </GeometryDrawing.Pen>
                        </GeometryDrawing>
                    </DrawingBrush.Drawing>
                </DrawingBrush>
            </Rectangle.Fill>
        </Rectangle>
        
        <!-- Subtle Vignette Effect -->
        <Rectangle>
            <Rectangle.Fill>
                <RadialGradientBrush>
                    <GradientStop Color="Transparent" Offset="0.3"/>
                    <GradientStop Color="#20000000" Offset="1"/>
                </RadialGradientBrush>
            </Rectangle.Fill>
        </Rectangle>
    </Grid>
    
    <UserControl.Triggers>
        <EventTrigger RoutedEvent="UserControl.Loaded">
            <BeginStoryboard Storyboard="{StaticResource BackgroundAnimation}"/>
            <BeginStoryboard Storyboard="{StaticResource ParticlesAnimation}"/>
        </EventTrigger>
    </UserControl.Triggers>
</UserControl> 